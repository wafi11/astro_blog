---
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import Layouts from "../../layouts/Layouts.astro";
import { faBookmark } from "@fortawesome/free-solid-svg-icons";
---


<Layouts>
    <div class="p-2 text-center pt-[100px]">
        <button
        id="tgt"
        class={`px-4 py-2 text-lg cursor-pointer border-none rounded text-black`}>
        Bookmark
        <FontAwesomeIcon icon={faBookmark} />
    </button>
</div>
</Layouts>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tgt = document.querySelector("#tgt");
        let isBookmarked = JSON.parse(localStorage.getItem('isBookmarked') || 'false');
        if (isBookmarked) {
            tgt.classList.add('text-red-500');
            tgt.classList.remove('text-black');
            tgt.innerHTML = 'Unbookmark <i class="fa fa-bookmark"></i>';
        }
        tgt.addEventListener("click", () => {
            isBookmarked = !isBookmarked;
            localStorage.setItem('isBookmarked', JSON.stringify(isBookmarked));
            tgt.classList.toggle('text-red-500');
            tgt.classList.toggle('text-black');
            tgt.innerHTML = isBookmarked ? 'Unbookmark <i class="fa fa-bookmark"></i>' : 'Bookmark <i class="fa fa-bookmark"></i>';
            console.log("Hello, on client");
        });
    });
</script>
