import{j as e}from"./jsx-runtime.dvAB8w6V.js";import{r as t}from"./index.B3PfHquH.js";/* empty css                      */import{c as N,d as k}from"./index.CNaRQafX.js";import{C as l}from"./BannerTrending.CSameyd-.js";import{G as M}from"./iconBase.B54Tpgbu.js";import{m as s}from"./motion.ZZmNLQ8w.js";import{u as S}from"./classProfile.DHpVDt67.js";function C(r){return M({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 64C150.13 64 64 150.13 64 256s86.13 192 192 192 192-86.13 192-192S361.87 64 256 64zm91.31 283.31a16 16 0 0 1-22.62 0l-42.84-42.83a88.08 88.08 0 1 1 22.63-22.63l42.83 42.84a16 16 0 0 1 0 22.62z"},child:[]},{tag:"circle",attr:{cx:"232",cy:"232",r:"56"},child:[]}]})(r)}const b=()=>{const[r,h]=t.useState(""),m=x=>{const i=x.target.value;h(i)},o=()=>{window.location.href=`/search?q=${r}`};return e.jsxs("div",{className:"flex items-center w-full md:w-[400px] relative",children:[e.jsx("input",{type:"text",value:r,onChange:m,placeholder:"Search...",className:"px-4 py-2 w-full md:w-[500px] rounded-full focus:outline-none"}),e.jsx(s.button,{className:"absolute right-0 text-gray-300",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o,children:e.jsx(C,{size:40})})]})},g=[{nama:"Home",link:"/"},{nama:"Category",link:"/category",subMenu:[{nama:l.national},{nama:l.politics},{nama:l.health},{nama:l.sports},{nama:l.world}]},{nama:"Explore",link:"/explore"},{nama:"Trending",link:"/trending"},{nama:"Popular",link:"/popular"}],E=async()=>{try{if(!(await fetch("/api/logout",{method:"POST"})).ok)throw new Error("Internal Serser Erorr");alert("Berhasil")}catch{console.log("Internal Server Errorr")}},O=()=>{const[r,h]=t.useState(""),[m,o]=t.useState(!1),[x,i]=t.useState(!1),[p,f]=t.useState(!1),[d,v]=t.useState(!1),{userProfile:j,error:B}=S(),y=()=>{f(a=>!a)};t.useEffect(()=>{h(window.location.pathname)},[]);const w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},c={hidden:{y:-20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},u={hidden:{width:0},visible:{width:"100%",transition:{duration:.5}}};return e.jsxs("header",{className:"fixed w-full z-50 bg-gray-100 py-3 text-black",children:[e.jsxs(s.div,{className:"flex justify-between items-center px-10 ",variants:w,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"flex items-center text-xl bebas font-bold text-center gap-3",children:e.jsxs("div",{className:"flex gap-2 text-4xl",children:[e.jsx("button",{className:"md:hidden",onClick:()=>v(!d),children:d?e.jsx(N,{size:24}):e.jsx(k,{size:24,className:"mb-2"})}),e.jsx(s.h1,{className:"",variants:c,children:"Astro"}),e.jsx(s.h1,{className:"",variants:c,children:"Blog"})]})}),e.jsx("div",{className:`md:flex items-center gap-3 ${d?"block":"hidden"}`,children:g.map(a=>e.jsxs(s.div,{className:"relative  text-2xl   p-1 text-center w-fit px-4 bebas hidden md:block",whileHover:{background:"#BBE9FF"},transition:{duration:.2},variants:c,onMouseEnter:()=>a.subMenu&&o(!0),onMouseLeave:()=>a.subMenu&&o(!1),children:[e.jsx("a",{href:a.link,className:`${r===a.link?"text-black":""}`,children:a.nama}),r===a.link&&e.jsx(s.div,{className:"border-b-[4px] border-solid border-b-[#BBE9FF]",variants:u}),m&&a.subMenu&&e.jsx("div",{className:"absolute bg-white shadow-md w-[200px] rounded-md mt-2 z-50 -right-16",children:a.subMenu.map(n=>e.jsx("a",{href:`category?cat=${n.nama}`,className:"block px-4 py-2 hover:bg-gray-200",children:n.nama},n.nama))})]},a.link))}),e.jsx("div",{className:"lg:block hidden",children:e.jsx(b,{})}),j?e.jsx("button",{className:"rounded-full w-10 h-10 ring-2 ring-gray-200 shadow-xl",onClick:y,children:e.jsx("img",{src:"/src/assets/placeholder.jpg",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}):e.jsx("a",{href:"/users",className:"rounded-md px-4 py-2 border-[3px] border-black hover:bg-black hover:text-white w-fit text-xl  font-bebas items-center",children:"Login"}),p&&e.jsx("div",{className:"absolute top-16 w-40 bg-gray-400 shadow-md rounded-md z-50 right-0",children:e.jsxs("div",{className:"p-4 grid gap-4 font-bebas",children:[e.jsx("a",{href:"/profile",className:"hover:bg-gray-200 hover:border-gray-200 border-2 bg-gray-300 border-gray-200 rounded-md px-1",children:"User Profile"}),e.jsx("p",{className:"hover:bg-gray-200 hover:border-gray-200 border-2 bg-gray-300 border-gray-200 rounded-md px-1",children:"Settings"}),e.jsx("button",{onClick:E,className:"hover:bg-gray-200 hover:border-gray-200 border-2 bg-gray-300 border-gray-200 rounded-md px-1",children:"Logout"})]})})]}),d&&e.jsxs(s.div,{className:"md:hidden absolute top-16 left-0 right-0 bg-gray-100 z-40 p-4",initial:{height:0},animate:{height:"auto"},transition:{duration:.3},children:[e.jsx(b,{}),e.jsx("div",{className:"flex leading-none py-4",children:g.map(a=>e.jsxs(s.div,{className:"relative first-letter:text-[20px] text-md p-1 text-center w-fit px-4 bebas ",whileHover:{background:"#BBE9FF"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),transition:{duration:.2},variants:c,children:[e.jsx("a",{href:a.link,className:`leading-none ${r===a.link?"text-black":""}`,children:a.nama}),r===a.link&&e.jsx(s.div,{className:"border-b-[4px] border-solid border-b-[#BBE9FF]",variants:u}),x&&a.subMenu&&e.jsx("div",{className:"mt-2 z-10 grid",children:a.subMenu.map(n=>e.jsx("a",{href:`category?cat=${n.nama}`,className:"block px-4 py-2 hover:bg-gray-200",children:n.nama},n.nama))})]},a.link))})]})]})};export{O as default};
